<div class="row pt-5">
    <div class="col-md-6 mx-auto">
        <div class="card rounded-0">
            <div class="card-header">
                <h3 class="mb-0">Signup</h3>
            </div>
            <div class="card-body">
                <form #signupForm ="ngForm" class="form" (ngSubmit)="onSubmit()">
                    <div class="form-group">
                        <label for="">Username</label>
                        <input type="text" name = "username" 
                        [(ngModel)]="model.username" 
                        class="form-control rounded-0" 
                        #username = "ngModel"
                        [class.is-valid]="username.valid && username.touched"
                        [class.is-invalid]="username.invalid && username.touched"
                        minlength="3"
                        maxlength="18"
                        pattern="[a-zA-Z0-9]*"
                        required>
                        <div *ngIf="username.errors && (username.invalid && username.touched)">
                            <small class ="text-danger" *ngIf="username.errors.required">This field must not be empty</small>
                            <small class ="text-danger" *ngIf="username.errors.minlength">The minimum lenght of this field is 3</small>
                            <small class ="text-danger" *ngIf="username.errors.maxlength">The maximum lenght of this field is 18</small>
                            <small class ="text-danger" *ngIf="username.errors.pattern">This field must only contain letters and numbers</small>
                        </div>
                       
                    </div>
                    <div class="form-group">
                        <label for="">Email</label>
                        <input type="text"  name = "email" 
                        [(ngModel)]="model.email" 
                        class="form-control rounded-0" 
                        required
                        #email = "ngModel"
                        [class.is-valid]="email.valid && email.touched"
                        [class.is-invalid]="email.invalid && email.touched"
                        email
                        required>
                        <div *ngIf="email.errors && (email.invalid && email.touched)">
                            <small class ="text-danger" *ngIf="email.errors.required">This field must not be empty</small>
                            <small class ="text-danger" *ngIf="email.errors.email">This field must be structured as an email address</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="">Password</label>
                        <input type="password"  
                        name = "password" [(ngModel)]="model.password" 
                        class="form-control rounded-0" 
                        #password = "ngModel"
                        [class.is-valid]="password.valid && password.touched"
                        [class.is-invalid]="password.invalid && password.touched"
                        minlength="5"
                        maxlength="18"
                        pattern="[a-zA-Z0-9!_\\.\\-]*"
                        required>
                        <div *ngIf="password.errors && (password.invalid && password.touched)">
                            <small class ="text-danger" *ngIf="password.errors.required">This field must not be empty</small>
                            <small class ="text-danger" *ngIf="password.errors.minlength">The minimum lenght of this field is 5</small>
                            <small class ="text-danger" *ngIf="password.errors.maxlength">The maximum lenght of this field is 18</small>
                            <small class ="text-danger" *ngIf="password.errors.pattern">This field must contain only letters, numbers or some special characters (! _ . - )</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="">Confirm Password</label>
                        <input type="password"  
                        name = "repeatPassword" 
                        #repeatPassword = "ngModel"
                        [(ngModel)]="model.repeatPassword" 
                        class="form-control rounded-0" 
                        [class.is-valid]="model.repeatPassword===model.password && repeatPassword.touched"
                        [class.is-invalid]="model.repeatPassword!==model.password && repeatPassword.touched"
                        >
                        <small class ="text-danger" *ngIf="model.repeatPassword!==model.password && repeatPassword.touched">The two passwords must be the same</small>
                      
                        <small [class.text-danger]="serverError" [class.text-success]="serverSuccess"*ngIf="serverError==true||serverSuccess==true">{{serverMessage}}</small>
                    </div>
                    <button type = "submit" class="btn btn-primary float-right" [disabled]="signupForm.form.invalid || model.repeatPassword!==model.password">Submit</button>
                </form>
                <button type = "button" class="btn btn-secondary float-left">Login</button>
            </div>
        </div>
    </div>
</div>
